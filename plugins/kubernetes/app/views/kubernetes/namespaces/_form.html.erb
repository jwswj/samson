<%= breadcrumb Kubernetes::Namespace, (@kubernetes_namespace.new_record? ? "New" : @kubernetes_namespace) %>

<section>
  <%= form_for @kubernetes_namespace, html: { class: "form-horizontal" } do |form| %>
    <%= render 'shared/errors', object: form.object %>

    <fieldset>
      <%= form.input :name, required: true, pattern: Kubernetes::Namespace::NAME_PATTERN, input_html: {disabled: form.object.persisted?} %>
      <%= form.input :comment, as: :text_area %>

      <%= form.input :project_ids, label: 'Projects' do %>
        <%= form.select :project_ids, Project.pluck(:name, :id), {}, multiple: true, **Samson::FormBuilder::LIVE_SELECT_OPTIONS %>
      <% end %>
    </fieldset>

    <%= form.actions delete: true, history: true, delete_help: "Does not delete the namespace from the clusters." %>
  <% end %>
</section>
